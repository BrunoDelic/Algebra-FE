"use strict";function showLoader(){loader.style.display="block"}function hideLoader(){loader.style.display="none"}async function getData(){const e=input.value;try{const t=await fetch(`https://itunes.apple.com/search?term=${e}&media=music`,{method:"GET"}),n=await t.json();0===n.resultCount?(hideLoader(),poruka.innerText="Nažalost nema rezultata. Provjerite unos i pokušajte ponovo."):(hideLoader(),showResults(n.results))}catch(e){poruka.innerText="Došlo je do pogreške. Ponovite unos i pokušajte ponovo."}}function showResults(e){e.forEach(e=>{const t=document.createElement("li"),n=document.createElement("p"),o=document.createElement("img"),a=document.createElement("audio"),i=document.createElement("div");return i.classList.add("container"),n.textContent=e.artistName+" - "+e.trackName,o.src=e.artworkUrl60,a.src=e.previewUrl,lista.appendChild(i),i.appendChild(t),t.appendChild(o),t.appendChild(a),t.appendChild(n),lista.appendChild(t),a.controls=!0,t})}const input=document.getElementById("input"),lista=document.getElementById("lista"),loader=document.getElementById("loader"),poruka=document.getElementById("poruka"),button=document.getElementById("search-button");input.addEventListener("click",function(){input.value="",lista.innerText="",poruka.innerText=""}),button.addEventListener("click",function(){showLoader(),getData()});